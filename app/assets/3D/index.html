<!DOCTYPE html>

<html>
<head>
  <title>3D cross section view</title>
  <meta http-equiv="content-type" content="text/html; charset=us-ascii">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" type="text/css">
  <style type="text/css">
    .ui-mobile .ui-page {
      min-height: 300px;
      overflow: hidden;
    }
    html,body {
      overflow: hidden;
    }
    #WebGLCanvas {
      position:absolute;
      top:40px;
      height:100%;
      overflow: hidden;
    }
  </style>

  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="//code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
  <script type="text/javascript" src="//threejs.org/build/three.min.js"></script>
  <script type="text/javascript" src="//threejs.org/examples/js/controls/OrbitControls.js"></script>
  <script type="text/javascript" src="//threejs.org/examples/js/Detector.js"></script>
  <script type="text/javascript" src="//threejs.org/examples/js/libs/stats.min.js"></script>
  <script type="text/javascript" src="vendor-3d.js"></script>
  <script type="text/javascript" src="app-3d.js"></script>
</head>

<body>
  <div data-role="page" id="index">
    <div data-theme="b" data-role="header">
      <h1>Seismic Eruptions</h1>
      <a href="#options" class="ui-btn ui-icon-info ui-mini ui-btn-icon-notext ui-corner-all">Options</a>
      <a href="#settings" class="ui-btn ui-icon-gear ui-mini ui-btn-icon-notext ui-corner-all">Settings</a>
    </div>

    <div data-role="panel" data-theme="b" data-display="overlay" id="options">
      <div id="info" class="ui-bar ui-body-a"></div>
      <div class="ui-bar ui-body-b">
        <p id="startdate"></p>
        <p id="enddate"></p>
        <p id="magcutoff"></p>
      </div>
      <div id="rendererInfo"></div>
    </div>

    <div data-role="panel" data-position="right" data-display="overlay" data-theme="b" id="settings">
      <form>
        <div class="ui-field-contain">
          <label for="thumbnail">2D Thumbnail</label>
          <input data-role="flipswitch" data-mini="true" type="checkbox" name="plates" id="thumbnail" onchange="thumbnailToggle()" checked="true">
        </div>
        <div class="ui-field-contain">
          <label for="mapToggle">Map layer</label>
          <input data-role="flipswitch" data-mini="true" type="checkbox" name="plates" id="maptoggle" onchange="mapToggle()" checked="true">
        </div>
      </form>
    </div>

    <div id="WebGLCanvas">
      <div style="width: 210px; height: 210px; opacity: 0.9; cursor: pointer; position: absolute; bottom: 0px; right:0px" id="iframe2d">
        <iframe id="frame" src="" height="220" width="100%" name="frame"></iframe>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    $(document).ready(function() {
      var Main = require('3D/main');
      console.log("starting main");
      var m = new Main();
      m.start();
    });
  </script>
</body>
</html>
